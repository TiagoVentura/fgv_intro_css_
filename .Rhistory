left_join(data2, data3,
by=c("nome"="chave", "value2"))
left_join(data2, data3,
by=c("value2"))
left_join(data1, data2, by=c("nome"))
data1
data2
bind_rows(data1, data2)
data1
data2
# bind
bind_rows(data1, data2)
# bind
bind_cols(data1, data2)
data2 <- tibble(nome=c("A", "D", "C","D"),
value2=c(10, 50, 30, 50))
# bind
bind_cols(data1, data2)
data1 <- tibble(nome=c("A", "B", "C"),
value=c(10, 20, 30))
data2 <- tibble(nome=c("A", "D", "C"),
value2=c(10, 50, 30))
data1
data2
library(cepespR)
library(tidyverse)
# Banco Votos Presidente Rio de Janeiro
votos <- get_candidates(year=2018, position="Presidente") %>%
as_tibble()
# Banco Votos
cepespR::get_filiates(state = "all", party="PT")
# Banco Votos
?get_careers
# Banco Votos
a <- get_assets(year = 2014, state = "AC", columns_list = list('CODIGO_CARGO','NOME_CANDIDATO','CPF_CANDIDATO','VALOR_BEM'))
a
# Banco Votos
a <- get_assets(year = 2014, state = "AC"))
# Banco Votos
a <- get_assets(year = 2014, state = "AC")
a
# Banco Votos Presidente Rio de Janeiro
votos <- get_candidates(year=2018, position="Federal Deputy") %>%
as_tibble()
# Banco Bens Candidatos
bens <- get_assets(year = 2018, state = "RJ")
?get_assets
?get_assets
library(cepespR)
library(tidyverse)
?get_assets
??get_assets
# Banco Bens Candidatos
bens <- get_assets(year = 2018, state = "RJ", position="Federal Deputy")   %>%
as_tibble()
# Banco Bens Candidatos
bens <- get_assets(year = 2018, state = "RJ")   %>%
as_tibble()
colnames(bens)
table(bens$DESCRICAO_CARGO)
colnames(bens)
colnames(votos)
left_join(votos, bens)
dim(votos)
dim(bens)
# Banco Votos Deputado
votos <- get_candidates(year=2018, position="Federal Deputy") %>%
as_tibble()
# Banco Votos Deputado
votos <- get_candidates(year=2018, position="Federal Deputy", state="RJ") %>%
as_tibble()
# Banco Votos Deputado
votos <- get_votes(year=2018, position="Federal Deputy", state="RJ") %>%
as_tibble()
# Banco Bens Candidatos
bens <- get_assets(year = 2018, state = "RJ")   %>%
as_tibble()
colnames(votos)
bens
# Banco Votos Deputado
candidatos <- get_candidates(year=2018, position="Federal Deputy") %>%
as_tibble()
# Banco Bens Candidatos
bens <- get_assets(year = 2018, state = "RJ")   %>%
as_tibble()
get_filiates(state = 'AC', party = 'PT')
library(tidyr)
tidyr::construction
billboard
construction
construction
construction %>%
pivot_longer(cols=contains("units"),
names_to="d",
values_to="s")
construction %>%
pivot_longer(cols=contains("unit"),
names_to="d",
values_to="s")
?pivot_longer
construction
# Responda
construction %>%
pivot_longer(cols=contains("unit"),
names_to="unit",
values_to="unit_values")
# Responda
construction %>%
pivot_longer(cols=contains("unit"),
names_to="unit",
values_to="unit_values") %>%
pivot_longer(cols = c("Northeast", "Midwest", "West", "South"),
names_to="Region",
values_to="Region_values")
fish_encounters
fish_encounters %>%
pivot_wider(names_from = station,
values_from=seen)
fish_encounters
library(cepespR)
library(tidyverse)
# Banco Votos Deputado
candidatos <- get_candidates(year=2018, position="Federal Deputy") %>%
as_tibble()
# Banco Bens Candidatos
bens <- get_assets(year = 2018, state = "RJ")   %>%
as_tibble()
bens
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(VALOR_BEM))
bens_agg <- bens %>%
group_by(SIGLA_UF, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(VALOR_BEM))
bens_agg <- bens %>%
group_by(SIGLA_UF,CPF_CANDIDATO)%>%
summarise(bens_total=sum(VALOR_BEM))
bens_agg <- bens %>%
group_by(SIGLA_UF, NUMERO_CANDIDATO)%>%
summarise(bens_total=sum(VALOR_BEM))
bens_agg <- bens %>%
group_by(NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(VALOR_BEM))
library(tidyverse)
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(VALOR_BEM))
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(as.numeric(VALOR_BEM)))
warnings()
bens_agg
bens$VALOR_BEM
parse_number(bens$VALOR_BEM)
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM)))
bens_agg
bens %>%
filter(NUMERO_CANDIDATO==12) %>%
select(VALOR_BEM)
10,20
10.20
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "."))
bens_agg
bens_agg
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "."))
bens_agg <- bens %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "."))
bens_agg <- bens %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", ".")) %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM)))
bens_agg
bens %>%
filter(NUMERO_CANDIDATO==12) %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "."))
bens %>%
filter(NUMERO_CANDIDATO==12) %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", ".")) %>%
select(VALOR_BEM)
bens %>%
filter(NUMERO_CANDIDATO==12) %>%
select(VALOR_BEM) %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "."))
bens %>%
filter(NUMERO_CANDIDATO==12) %>%
select(VALOR_BEM)
bens %>%
filter(NUMERO_CANDIDATO==12) %>%
select(VALOR_BEM) %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "\\."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "\\.")) %>%
select(VALOR_BEM)
bens <- bens %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "\\."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "\\.")) %>%
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM)))
bens_agg
bens <- bens %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "\\."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "\\.")) %>%
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM)))
bens_agg
bens <- bens %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "\\."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "\\.")) %>%
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM)))
# Banco Bens Candidatos
bens <- get_assets(year = 2018, state = "RJ")   %>%
as_tibble()
bens <- bens %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "\\."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "\\.")) %>%
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM)))
bens <- bens %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "\\."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "\\."))
bens
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM)))
bens_agg
# responda aqui.
left_join(candidatos, bens_agg)
# responda aqui.
left_join(candidatos, bens_agg, by=c("SIGLA_UF", "CODIGO_CARGO",
"DESCRICAO_CARGO", "NUMERO_CANDIDATO",
"CPF_CANDIDATO"))
# responda aqui.
join_banco <- left_join(candidatos, bens_agg, by=c("SIGLA_UF", "CODIGO_CARGO",
"DESCRICAO_CARGO", "NUMERO_CANDIDATO",
"CPF_CANDIDATO"))
join_banco
candidatos
join_banco %>% select(NUMERO_CANDIDATO, bens_total)
bens_agg
join_banco %>% select(NUMERO_CANDIDATO, bens_total)
join_banco %>% select(NUMERO_CANDIDATO, bens_total) %>% View()
bens_agg
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM))) %>%
filter(CODIGO_CARGO==6)
bens_agg
candidatos %>%
filter(CODIGO_CARGO==6)
candidatos %>%
filter(CODIGO_CARGO==6, SIGLA_UF=="RJ")
candidatos %>%
filter(CODIGO_CARGO==6, SIGLA_UF=="RJ") %>%
distinct(NUMERO_CANDIDATO)
join_banco %>% select(NUMERO_CANDIDATO, bens_total)
bens_agg
#Dica: Converta a Variável Número do Candidato para Character antes de fazer o join
candidatos <- candidatos %>%
mutate(NUMERO_CANDIDATO=as.character(NUMERO_CANDIDATO))
candidatos <- candidatos %>%
mutate(NUMERO_CANDIDATO=as.character(NUMERO_CANDIDATO))
# responda aqui.
join_banco <- left_join(candidatos, bens_agg, by=c("SIGLA_UF", "CODIGO_CARGO",
"DESCRICAO_CARGO", "NUMERO_CANDIDATO",
"CPF_CANDIDATO"))
bens_agg
bens_agg %>% filter(NUMERO_CANDIDATO==1010)
candidatos %>% filter(NUMERO_CANDIDATO==1010)
candidatos %>% filter(NUMERO_CANDIDATO==1010) %>% select(NUMERO_CANDIDATO, CPF_CANDIDATO)
candidatos %>% filter(SIGLA_UF=="RJ", NUMERO_CANDIDATO==1010) %>% select(NUMERO_CANDIDATO, CPF_CANDIDATO)
bens_agg %>% filter(NUMERO_CANDIDATO==1010)
join_banco <- left_join(candidatos, bens_agg, by=c("SIGLA_UF", "CODIGO_CARGO",
"DESCRICAO_CARGO", "NUMERO_CANDIDATO",
"CPF_CANDIDATO"))
# Banco Votos Deputado
candidatos <- get_candidates(year=2018, position="Federal Deputy") %>%
as_tibble()
# Banco Bens Candidatos
bens <- get_assets(year = 2018, state = "RJ")   %>%
as_tibble()
bens <- bens %>%
mutate(VALOR_BEM=str_remove_all(VALOR_BEM, "\\."),
VALOR_BEM=str_replace_all(VALOR_BEM, ",", "\\."))
bens_agg <- bens %>%
group_by(SIGLA_UF, CODIGO_CARGO, DESCRICAO_CARGO, NUMERO_CANDIDATO, CPF_CANDIDATO)%>%
summarise(bens_total=sum(parse_number(VALOR_BEM))) %>%
filter(CODIGO_CARGO==6)
bens_agg %>% filter(NUMERO_CANDIDATO==1010)
candidatos %>% filter(SIGLA_UF=="RJ", NUMERO_CANDIDATO==1010) %>% select(NUMERO_CANDIDATO, CPF_CANDIDATO)
candidatos %>% filter(SIGLA_UF=="RJ", NUMERO_CANDIDATO==1010) %>% select(SIGLA_UF, CODIGO_CARGO,NUMERO_CANDIDATO, CPF_CANDIDATO)
bens_agg %>% filter(NUMERO_CANDIDATO==1010)
join_banco <- left_join(candidatos, bens_agg, by=c("SIGLA_UF", "CODIGO_CARGO",
"NUMERO_CANDIDATO",
"CPF_CANDIDATO"))
join_banco %>% filter(SIGLA_UF=="RJ", NUMERO_CANDIDATO==1010) %>% select(SIGLA_UF, CODIGO_CARGO,NUMERO_CANDIDATO, CPF_CANDIDATO)
join_banco %>% filter(SIGLA_UF=="RJ", NUMERO_CANDIDATO==1010) %>% select(bens_total,SIGLA_UF, CODIGO_CARGO,NUMERO_CANDIDATO, CPF_CANDIDATO)
join_banco
join_banco %>% select(bens_total,SIGLA_UF, CODIGO_CARGO,NUMERO_CANDIDATO, CPF_CANDIDATO)
join_banco <- left_join(candidatos, bens_agg, by=c("SIGLA_UF", "CODIGO_CARGO",
"NUMERO_CANDIDATO",
"CPF_CANDIDATO")) %>%
filter(SIGLA_UF=="RJ")
join_banco
join_banco %>% select(bens_total,SIGLA_UF, CODIGO_CARGO,NUMERO_CANDIDATO, CPF_CANDIDATO)
bens_agg %>% filter(NUMERO_CANDIDATO==1002)
# responda aqui.
join_banco %>% arrange(desc(bens_total))
# responda aqui.
join_banco %>% arrange(desc(bens_total)) %>%
select(bens_total, NOME_URNA_CANDIDATO)
# responda aqui
join_banco %>%
group_by(NUMERO_PARTIDO) %>%
summarise(total_pt=sum(bens_total)) %>%
arrange(desc(n))
# responda aqui
join_banco %>%
group_by(NUMERO_PARTIDO) %>%
summarise(total_pt=sum(bens_total)) %>%
arrange(desc(total_pt))
construction
# responda aqui
join_banco %>%
group_by(NUMERO_PARTIDO) %>%
summarise(total_pt=sum(bens_total, na.rm = TRUE)) %>%
arrange(desc(total_pt))
construction
# Dica: A solução mais intuitiva irá usar pivot_longer duas vezes.
construction %>%
pivot_longer(cols=contains("units"),
names_to="units",
values_to="units_value")
# Dica: A solução mais intuitiva irá usar pivot_longer duas vezes.
construction %>%
pivot_longer(cols=contains("unit"),
names_to="units",
values_to="units_value")
# Dica: A solução mais intuitiva irá usar pivot_longer duas vezes.
construction %>%
pivot_longer(cols=contains("unit"),
names_to="units",
values_to="units_value") %>%
pivot_longer(cols=c(contains("st", "South")),
names_to="region",
values_to="region_values")
# Dica: A solução mais intuitiva irá usar pivot_longer duas vezes.
construction %>%
pivot_longer(cols=contains("unit"),
names_to="units",
values_to="units_value") %>%
pivot_longer(cols=3:6,
names_to="region",
values_to="region_values")
# Dica: A solução mais intuitiva irá usar pivot_longer duas vezes.
construction %>%
pivot_longer(cols=contains("unit"),
names_to="units",
values_to="units_value") %>%
pivot_longer(cols=3:6,
names_to="region",
values_to="region_values") %>%
View()
construction
fish_encounters
fish_encounters %>%
pivot_wider(names_from = "station",
values_from="seen",
values_fill=0)
blogdown::serve_site()
xaringan::inf_mr()
# Banco Candidatos Brasil inteiro
candidatos <- get_candidates(year=2018, position="Federal Deputy") %>%
as_tibble()
# Banco Votos
votos <- get_votes(year = 2018, position="Federal Deputy", state="RJ") %>%
as_tibble()
candidatos
# Banco Candidatos Brasil inteiro
?get_candidates
votos
# Entende
glimpse(candidatos)
glimpse(votos)
# Entende
glimpse(candidatos)
glimpse(votos)
merged_data <- left_join(votos, candidatos,
by=c("ANO_ELEICAO",
"CODIGO_CARGO",
"DESCRICAO_CARGO",
"UF"="SIGLA_UF",
"NUMERO_CANDIDATO"))
merged_data
glimpse(merged_data)
dim(merged_data)
dim(votos)
merged_data %>%
group_by(DESCRICAO_OCUPACAO) %>%
summarise(votos=sum(QTDE_VOTOS)) %>%
arrange(desc(votos))
glimpse(merged_data)
wide
pivot_longer(cols=c(pres_ano_2010, pres_ano_2014,
pres_ano_2018),
names_to="presidente_ano",
values_to="presidente")
wide %>%
pivot_longer(cols=c(pres_ano_2010, pres_ano_2014,
pres_ano_2018),
names_to="presidente_ano",
values_to="presidente")
wide %>%
pivot_longer(cols=contains("ano"),
names_to="presidente_ano",
values_to="presidente")
wide %>%
pivot_longer(cols=-pais,
names_to="presidente_ano",
values_to="presidente")
# Pivot_longer
tab %>%
pivot_longer(cols = c(starts_with("i")),
names_to="t",
values_to="values")
# Pivot_longer
tab
tab %>%
pivot_longer(cols = starts_with("i"),
names_to="t",
values_to="values")
# Pivot_longer
tab
tab %>%
pivot_longer(cols = starts_with("i"),
names_to="t",
values_to="values")
?pivot_longer
tab %>%
pivot_longer(cols = starts_with("i"),
names_to="t",
values_to="values" ,
names_prefix="income")
tab2
pivot_wider(tab2, names_from=covid,
values_from=numero)
tab2 %>%
pivot_wider(names_from=covid,
values_from=numero)
tab2
tab2 %>%
pivot_wider(names_from=covid,
values_from=numero,
values_fill=0)
tibble(pais=c("Brasil", "Brasil", "Brasil", "uruguai"),
vacinas=c("aztrazeneca", "coronavac", "pfzeir", "aztrazeneca"),
values=c(1, 1, 1))
tibble(pais=c("Brasil", "Brasil", "Brasil", "uruguai"),
vacinas=c("aztrazeneca", "coronavac", "pfzeir", "aztrazeneca"),
values=c(1, 1, 1, 1))
vacinas = tibble(pais=c("Brasil", "Brasil", "Brasil", "uruguai"),
vacinas=c("aztrazeneca", "coronavac", "pfzeir", "aztrazeneca"),
values=c(1, 1, 1, 1))
vacinas
vacinas %>%
pivot_wider(names_from = vacinas,
values_from = values)
vacinas %>%
pivot_wider(names_from = vacinas,
values_from = values,
values_fill = 0)
tab1
tab1 %>%
separate(presidente_vice,
into=c("presidente", "vice"),
sep="-")
vacinas = tibble(pais=c("Brasil", "Brasil", "Brasil", "uruguai"),
vacinas=c("aztrazeneca", "coronavac", "pfzeir", "aztrazeneca"),
values=c(1, 1, 1, 1))
vacinas
vacinas = data.frame(pais=c("Brasil", "Brasil", "Brasil", "uruguai"),
vacinas=c("aztrazeneca", "coronavac", "pfzeir", "aztrazeneca"),
values=c(1, 1, 1, 1))
vacinas
vacinas = data.frame(nor=sample(1:1000, 500),
p=sample(1:1000m 500))
vacinas = data.frame(nor=sample(1:1000, 500),
p=sample(1:1000, 500))
vacinas
vacinas
vacinas <- tibble(nor=sample(1:1000, 500),
p=sample(1:1000, 500))
vacinas
head(vacinas)
vacinas
